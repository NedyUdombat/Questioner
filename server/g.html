<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <form id="imag"  enctype="multipart/form-data" method="post">

        <label for="exampleInputFile">File input</label>
        <input type="file" id="filee" name="image" accept="image/*">
      <input type="submit">
    </form>



    <script>

      // const sendImage = (image) => {
      //   const options = {
      //     method: 'POST',
      //     body: JSON.stringify(image),
      //     headers: new Headers({
      //       'Content-Type': 'multipart/form-data',
      //     }),
      //   };
      //
      //   fetch('http://127.0.0.1:8080/api/v1/images', options)
      //     // .then(res => res.json())
      //     .then((res) => {
      //       console.log(res)
      //     })
      //     .catch(err => console.log(err));
      // };

      // const sendImageJob = (event) => {
      //   event.preventDefault();
      //
      //
      //   sendImage(image);
      // };
      function readFile(file) {
      	var reader = new FileReader();

      	reader.onloadend = function () {
      		processFile(reader.result, file.type);
      	}

      	reader.onerror = function () {
      		alert('There was an error reading the file!');
      	}

      	reader.readAsDataURL(file);
      }

      if (window.File && window.FileReader && window.FormData) {

        document.querySelector('#filee').addEventListener('change', (event) => {
          var file = event.target.files[0];

          if (file) {
            if (/^image\//i.test(file.type)) {
              readFile(file);
            } else {
              alert('Not a valid image!');
            }
          }
        });

      } else {
        alert("File upload is not supported!");
      }

    </script>
  </body>
</html>

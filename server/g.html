<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <form id="imag"  enctype="multipart/form-data" method="post">

        <label for="exampleInputFile">File input</label>
        <input type="file" id="exampleInputFile">
      <input type="submit">
    </form>

    <script>

      const signup = (user) => {
        const options = {
          method: 'POST',
          body: user,
          headers: new Headers({
            Accept: 'application/json',
            'Content-Type': 'application/json',
          }),
        };

        return fetch('http://127.0.0.1:8080/api/images', options)
          .then(res => res.json())
          .then((res) => {
            console.log(res)
          })
          .catch(err => console.log(err));
          console.log('1')
      };

      const signUp = (event) => {
        event.preventDefault();

        // const formData = new FormData(document.querySelector('#imag'));
        // const user = {};
        // for (const [key, value] of formData.entries()) {
        // console.log(user[key] = value);
        // }

        let ff = document.querySelector('#exampleInputFile').value
        console.log(ff);

        signup(ff);
      };

      document.querySelector('#imag').addEventListener('submit', (event) => {
        signUp(event);
      });

    </script>
  </body>
</html>
